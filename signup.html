<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Registration</title>
	<!-- <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> -->
	
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" >

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            
</head>
<body style="background: url(img/wal.jpg);background-size:cover;">
	
	<div class="container" >
		<div class="row">
			<div class="col m6 offset-m3">
				<div class ="card">
					<div class="card-content">
						<h3 style="margin-top:10px;" class="center-align"> Registration here!!</h3>
						<h5 id="msg" class="center-align"></h5>
						 	<div class="form center-align">
						 	
						 		<form action="Registration" method="post" id="myform">
						 			<input type="text" name="user_name" placeholder="Enter User Name" >
						 			<input type="text" name="user_password" placeholder="Enter User Password" >
						 			<input type="text" name="user_email" placeholder="Enter User Mail" >
						 			
						 			<div class="file-field input-field">
						 				<div class="btn">
						 					<span>File</span>
						 					<input type="file" name="image">
						 				</div>
      									
      									<div class="file-path-wrapper">
    										<input class="file-path validate" type="text">
      									</div>
      								</div>
    								
						 			<button type="submit" class="btn light-blue accent-3" >Submit</button> 
			
						 		</form>
						 	</div>
						 	
						 	
						 	
						 	<div class="loader center-align" style="display:none;"><br>
								<div class="preloader-wrapper big active">     
     								<div class="spinner-layer spinner-blue">
    								    <div class="circle-clipper left">
          									<div class="circle"></div>
        										</div><div class="gap-patch">
          											<div class="circle"></div>
        											</div><div class="circle-clipper right">
          											<div class="circle"></div>
       												 </div>
   									   </div>

      											<div class="spinner-layer spinner-red">
        											<div class="circle-clipper left	">
          											<div class="circle"></div>
        											</div><div class="gap-patch">
          											<div class="circle"></div>
       											 	</div><div class="circle-clipper right">
          											<div class="circle"></div>
      											 </div>
      											</div>

      									<div class="spinner-layer spinner-yellow">
    								  	  <div class="circle-clipper left">
        			  						<div class="circle"></div>
        									</div><div class="gap-patch">
          										<div class="circle"></div>
        										</div><div class="circle-clipper right">
         											<div class="circle"></div>
      											  </div>
   												   </div>

      										<div class="spinner-layer spinner-green">
        									<div class="circle-clipper left">
          									<div class="circle"></div>
        									</div><div class="gap-patch">
   											<div class="circle"></div>
   											</div><div class="circle-clipper right">
   	
   											<div class="circle"></div>
   											 </div>
      										</div>	
      										</div>			
						
						<h5>please wait....</h5>
						 		
						 	</div>
 
					</div>
					
				</div>
			</div>
		</div>
		
		
	</div>
			<script 
				src="https://code.jquery.com/jquery-3.5.1.min.js" 
				integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
				crossorigin="anonymous">
			</script>
	
			
		
		<script >
			$(document).ready(function (){
				console.log("page is ready....")

			$("#myform").on('submit',function(event) {

				event.preventDefault();
				
			
				let f = new FormData(this);
				console.log(f);
				
				$(".loader").show();
				$(".form").hide();
				$.ajax({
					url:"Registration",
					data:f,
					type:'POST',
					success: function(data,textStatus,jqXHR){
						console.log(data),
						console.log("success.....")
						$(".loader").hide();
						$(".form").show();
				
						if(data.trim() === 'Done'){
							$('#msg').html("Successfully registered !!")
							$('#msg').addClass('green-text')
						}
						else
						{	
							$('#msg').html("Something went Wrong on Server....!!")
							$('#msg').addClass('red-text')
							
						}
						
					},
					error:function (jqXHR,textStatus,errorThrown){
							console.log(data);
							console.log("error.....")	
							$(".loader").hide();
							$(".form").show();
							$('#msg').html("Something went wrong on server.......")
							$('#msg').addClass('red-text')
					},
					processData: true,
					ContentType: true,
				})
			})	
			})
		
		</script>
			
</body>
</html>